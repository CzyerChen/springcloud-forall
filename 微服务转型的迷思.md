> 为什么要用微服务，其中的优点和缺点，[参考](https://blog.csdn.net/fly_zhyu/article/details/76408158)

### 为什么需要微服务
- 传统的单体式框架应用开发系统，如CRM/ERP，随着需求的不断增加，企业跟新和修复大型整体式应用变得困难
- 随着互联网的发展，应用需要面临网页、手机以及多样的客户端接入，需求层出不穷，变更也是家常便饭
- SOA通过标准化的服务接口，实现了能力的重用，但是整体式应用的原因，导致它并不能如此优雅的适应快速变化的需求
- 云技术和容器技术，既给运维带来了春天，也启迪了应用的发展

### 互联网/内联网/网络技术的不断成熟
- 轻量级的技术:Node js
- 新的方法和工具:DevOps
-轻量级的协议:RESTFUL API
-简化的基础设施：容器DOCKER、操作系统虚拟化HYPERVISORS，基础设施即服务IAAS，容器虚拟化K8S
- 服务平台化：PAAS
- 新型数据持久化模型： NOSQL CQRS BASE MAPREDUCE
- 标准化的代码管理：github gitlab

### 什么是微服务
- 大应用，拆成小的功能模块，它们可以独立部署和运行，之间的调用也是松散耦合的，每一块服务都展示了一种能力
- 强调独立部署，独立运行，快速迭代，不仅仅是web应用功能分的细，API接口粒度细而已

### 特性
- 能够实现应用的服务化
- 根据业务能力组织服务
- 产品形式，而非项目形式
- 智能断电和管道扁平化
- 去中心化的治理
- 去中心化的数据管理
- 基础设施的自动化
- 故障处理设计
- 演进式的设计

### 比较几个概念和微服务的概念的区别
- SOA曾经也广泛的应用于开发， 当下仍有大部分的交付采用SOA的方式，SOA更强调企业规模的范围，微服务则关心应用规模的范围
- 微服务和微组件，通常让人混淆，粒度不同，另外在管理和灵活性上也有很大差异
- 核心比较当下占有市场的两种架构风格：SOA和微服务

|/|微服务架构|SOA|
|---|---|---|
|相同点|1.以服务为核心的架构，2.强调敏捷，快速推出市场|以服务为核心的架构，强调敏捷和市场|
|差异点|1.强调将大应用拆成小模块，独立部署和运行，并通过开放编程语言和数据持久化进行快速交付|SOA在传统行业还是很适用，强调资源重用服务化，通过BPM实现服务编排，通过ESB进行应用集成
| |2.智能端点和管理扁平化，与ESB的思想相左。|SOA以web service/BPM/ESB等技术为主，复杂度较高|
| |3.结合开源与检点协议，进行开发| |
|争议|我也看过一些说法，微服务其实就是SOA的一个子集，是面向服务SOA架构风格的一种实现，又体现有分布式的思想|

### 航班预定的例子
- 可以拆分为：时间查询、管理奖励、更新客户、调整库存、分配座位、计算票价、预定航班

### 优缺点
|优点|缺点|
|---|---|
|每个自应用只关注一个业务，比较简单|因为子应用之多，会大大增加运维成本|
|架构是松散耦合的，有很大的灵活性，可以独立部署、独立应用|需要有一套完成的DevOps平台来进行开发运维一体化管理|
|因为自应用都是互不干扰的，因而可以容纳多种语言同时开发，互不影响|隐式接口和接口匹配问题，以及分布式应用的难度较大，复杂性高|
|微服务与当下容器技术紧密结合，大大提升交付能力，快速推出市场|异步机制|

### 交互式系统和记录式系统都可以得益于微服务，而分析式系统则更适合管道过滤器架构
- 记录型系统偏向于传统的CRM ERP OA系统，以数据的记录为主，表现多为表单、图表等呈现方式
- 交互型系统，就是我们常见的类似于微信、QQ这样的社交平台，以及微博这类的
- 交互型系统能够更好地转型微服务，新型的记录型系统也能够尝试微服务的架构

```text
                            对外暴露的服务/API接口
                   
                            能力开放网关（外部）
                    
            交互型         
   
   
   
   
            记录型                 
            
            
  合作伙伴          
```


